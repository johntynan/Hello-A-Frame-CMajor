<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Hello Melodic Teleportation</title>
    <meta name="description" content="360&deg; Image Gallery - A-Frame" />
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-layout-component@5.3.0/dist/aframe-layout-component.min.js"></script>
    <script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>
    <script src="https://unpkg.com/aframe-proxy-event-component@2.1.0/dist/aframe-proxy-event-component.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  </head>
  <body>
    <!-- Note the inclusion of inspector  https://github.com/aframevr/aframe-inspector -->
    <a-scene inspector="https://cdn.jsdelivr.net/gh/aframevr/aframe-inspector@master/dist/aframe-inspector.min.js"
    >
      <a-entity
        id="rig"
        movement-controls="controls: checkpoint"
        checkpoint-controls="mode: animate; animateSpeed: 10"
        position="0 1.5 0"
        environment="preset: egypt; dressingAmount: 500"
      >
        <a-entity
          camera
          id="camera1"
          look-controls
          mouse-cursor
          wasd-controls="acceleration:100"
        >
          <a-entity
            position="0 0 -3"
            geometry="primitive: ring; radiusInner: 0.05; radiusOuter: 0.1;"
            material="color: black; shader: flat"
            cursor="maxDistance: 30; fuse: true"
          >
          </a-entity>
        </a-entity>
      </a-entity>

      <a-entity id="position2" position="50 50 50">
        <a-entity
          camera
          id="camera2"
          look-controls
          mouse-cursor
          wasd-controls="acceleration:100"
        >
          <a-entity
            position="0 0 -3"
            geometry="primitive: ring; radiusInner: 0.05; radiusOuter: 0.1;"
            material="color: black; shader: flat"
            cursor="maxDistance: 30; fuse: true"
          >
          </a-entity>
        </a-entity>
      </a-entity>

      <a-assets>
        <audio
          src="https://cdn.aframe.io/basic-guide/audio/backgroundnoise.wav"
          autoplay
          preload
          
        ></audio>
        <audio
          id="click-sound"
          crossorigin="anonymous"
          src="https://cdn.aframe.io/basic-guide/audio/click.ogg"
        ></audio>
        <a-asset-item
          id="martianModel1"
          src="https://cdn.glitch.me/f1e7d90c-3cf9-41ef-96a1-55ccaa0723f9%2FCheckpoint.glb?v=1637498624914"
        ></a-asset-item>
      </a-assets>

      <a-entity
        checkpoint
        gltf-model="#martianModel1"
        id="martian1"
        position="0 1.329 0"
        rotation="0.0 0.0 0.0"
        scale="1.0 1.0 1.0"
        event-set__leave="_event: mouseleave; _target: #martian1Text; visible:false"
      >
        <a-text
          id="martian1Text"
          value="Hi There!"
          align="center"
          color="#000"
          visible="false"
          position="1.011 0.660 0.167"
        ></a-text>
      </a-entity>

      <a-entity
        checkpoint
        gltf-model="#martianModel1"
        id="martian2"
        position="-10 1.329 0"
        rotation="0.0 0.0 0.0"
        scale="1.0 1.0 1.0"
        event-set__enter="_event: mouseenter; _target: #martian2Text; visible:true"
        event-set__leave="_event: mouseleave; _target: #martian2Text; visible:false"
      >
        <a-text
          id="martian2Text"
          value="Hey There! How's it going?"
          align="center"
          color="#000"
          visible="false"
          position="2.0 0.753 -0.485"
        ></a-text>
      </a-entity>

      <a-entity
        id="rig"
        movement-controls="controls: checkpoint"
        checkpoint-controls="mode: animate"
        position="0 1.6 0"
      >
        <a-entity
          id="camera"
          camera
          look-controls="pointerLockEnabled: true"
          position="0 0 5"
          camera-listener>
          <a-entity
            cursor="fuse: true"
            position="0 0 -1"
            geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03;"
            material="color: #CCC; shader: flat;"
            visible="false"
          >
            <a-animation
              begin="click"
              easing="ease-in"
              attribute="scale"
              dur="150"
              fill="forwards"
              from="0.1 0.1 0.1"
              to="1 1 1"
            ></a-animation>
            <a-animation
              begin="cursor-fusing"
              easing="ease-in"
              attribute="scale"
              dur="1500"
              fill="backwards"
              from="1 1 1"
              to="0.1 0.1 0.1"
            ></a-animation>
          </a-entity>
        </a-entity>
      </a-entity>
      
      
      
    </a-scene>
  </body>
</html>